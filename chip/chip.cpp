#include "chip.h"

// Sprites of Chip 8
std::vector<byte> FONT_SET = {
    0xF0, 0x90, 0x90, 0x90, 0xF0, 0x20, 0x60, 0x20, 0x20, 0x70, 0xF0, 0x10,
    0xF0, 0x80, 0xF0, 0xF0, 0x10, 0xF0, 0x10, 0xF0, 0x90, 0x90, 0xF0, 0x10,
    0x10, 0xF0, 0x80, 0xF0, 0x10, 0xF0, 0xF0, 0x80, 0xF0, 0x90, 0xF0, 0xF0,
    0x10, 0x20, 0x40, 0x40, 0xF0, 0x90, 0xF0, 0x90, 0xF0, 0xF0, 0x90, 0xF0,
    0x10, 0xF0, 0xF0, 0x90, 0xF0, 0x90, 0x90, 0xE0, 0x90, 0xE0, 0x90, 0xE0,
    0xF0, 0x80, 0x80, 0x80, 0xF0, 0xE0, 0x90, 0x90, 0x90, 0xE0, 0xF0, 0x80,
    0xF0, 0x80, 0xF0, 0xF0, 0x80, 0xF0, 0x80, 0x80,
};

Chip::Chip()
    : rt(0), rd(0), sp(0), i(0), pc(0x0200), stack(std::vector<word>(16, 0)),
      memory(std::vector<byte>(0x1000, 0)), registers(std::vector<byte>(16, 0)),
      keyboard(std::vector<bool>(16, 0)),
      screen(std::vector<std::vector<byte>>(64, std::vector<byte>(32, 0))) {
  for (unsigned i = 0; i < FONT_SET.size(); i++)
    memory[i] = FONT_SET[i];
}

Chip::~Chip() {}

void Chip::print_mem() {
  for (byte i : this->memory)
    std::cout << i << " ";

  std::cout << std::endl;
}
